<!DOCTYPE html>
<html>
<head>
    <title>StreamHub Backbone Example</title>
    <script src="lib/requirejs/require.js"
            type="text/javascript"></script>
    <script type="text/javascript">
    // Require.js Config
    require.config({
      paths: {
        jquery: 'lib/jquery/jquery',
        isotope: 'lib/isotope/jquery.isotope',
        underscore: 'lib/underscore/underscore',
        backbone: 'lib/backbone/backbone',
        "streamhub-isotope": "main",
        mustache: 'lib/mustache/mustache',
        text: 'lib/requirejs-text/text',
        fyre: 'http://zor.t402.livefyre.com/wjs/v3.0/javascripts/livefyre'
      },
      packages: [{
        name: 'streamhub-backbone',
        location: 'lib/streamhub-backbone'
      }],
      shim: {
        fyre: {
            exports: 'fyre',
        },
        backbone: {
            deps: ['underscore', 'jquery'],
            exports: 'Backbone'
        },
        isotope: {
            deps: ['jquery']
        },
        underscore: {
            exports: '_'
        }
      }
    });
    </script>
    <link rel="stylesheet" type="text/css" href="lib/streamhub-backbone/main.css">
    <link rel="stylesheet" type="text/css" href="main.css">
    <style>
    body {
        color: #222;
        font: 14px sans-serif;
        line-height: 1.25;
        background-color: #eee;
    }
    .hub-item {
        background-color: white;
        padding-left: 0.5em;
        padding-right: 0.5em;
        margin: .25em;
        cursor: pointer;
    }
    .sort-links a, .filter-links a {
        cursor: pointer;
        text-decoration: underline;
    }
    </style>
</head>
<body>
<div id="container">
  <h1>StreamHub-Isotope</h1>
  <div id="example">
  </div>
</div>
<script type="text/javascript">
var Config = {
    network: "labs-t402.fyre.co",
    siteId: "303827",
    articleId: "fans_49ers_media",
    el: document.getElementById('example')
};
// Now to load the example
require(['fyre', 'streamhub-backbone', 'streamhub-isotope'],
function(fyre, Hub, IsotopeView){
    fyre.conv.load({
        network: Config.network
    }, [{app: 'sdk'}], function loadIsotopeView (sdk) {
        var mediaCollection = new Hub.Collection(),
            wallView = new IsotopeView({
                el: Config.el,
                collection: mediaCollection,
                // IsotopeView will load this many Items, wait for their images to load, and then render the rest
                initialNumToDisplay: 5,
                // Options to pass to jQuery-Isotope
                isotope: {},
                // Options to pass to ContentViews that IsotopeView will create
                contentViewOptions: {}
            });
        // Bind the mediaCollection to a remote one in Streamhub
        mediaCollection.setRemote({
            sdk: sdk,
            siteId: Config.siteId,
            articleId: Config.articleId
        });
    });
});
</script>
</body>
</html>
